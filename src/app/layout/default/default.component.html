<div class="modern-admin-layout">
  <!-- Modern Header -->
  <header class="modern-header">
    <div class="header-content">
      <!-- Left Section: Brand & Navigation -->
      <div class="header-left">
        <div class="brand-section">
          <img src="/assets/images/logo.png" alt="PayRow" class="brand-logo" />
          <span class="brand-text">PayRow Admin</span>
        </div>

        <!-- PayRow ID Info -->
        <div class="payrow-info" *ngIf="app.ShowReportDate == 'true'">
          <div class="info-badge">
            <span class="info-label">PayRow ID:</span>
            <span class="info-value">{{ decodedToken.distId }}</span>
            <span class="info-divider">|</span>
            <span class="info-network">PayRow Net</span>
          </div>
        </div>
      </div>

      <!-- Right Section: User & Actions -->
      <div class="header-right">
        <!-- Search -->
        <div class="header-search">
          <input type="text" placeholder="Search..." />
          <i class="fas fa-search"></i>
        </div>

        <!-- Notifications -->
        <div class="header-action">
          <button class="action-btn">
            <i class="fas fa-bell"></i>
            <span class="notification-dot"></span>
          </button>
        </div>

        <!-- User Profile -->
        <div class="user-profile">
          <div class="user-info">
            <span class="user-greeting"
              >Hi, <strong>{{ identity.UserName }}</strong></span
            >
            <span class="user-role">Regional Account Manager</span>
          </div>
          <div class="user-avatar">
            <img src="/admin/assets/images/person.jpg" alt="User" />
          </div>
          <button
            class="user-menu-btn"
            data-toggle="modal"
            data-target="#userinfo"
          >
            <i class="fas fa-chevron-down"></i>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Modern Sidebar -->
  <aside class="modern-sidebar">
    <nav class="sidebar-nav">
      <ul class="nav-list">
        <li class="nav-item">
          <a
            [routerLink]="'/dashboard'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-home"></i>
            </div>
            <span class="nav-text">Dashboard</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/cash-invoice'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-cube"></i>
            </div>
            <span class="nav-text">Product Type</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/top-customers'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-users"></i>
            </div>
            <span class="nav-text">Top 20 Customers</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/low-performance'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <span class="nav-text">Low Performance</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/high-consumption'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-chart-bar"></i>
            </div>
            <span class="nav-text">High Consumption</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/vat-report'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-file-invoice"></i>
            </div>
            <span class="nav-text">VAT Report</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/auditor-report'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-clipboard-check"></i>
            </div>
            <span class="nav-text">Auditor Report</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/complaints'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <span class="nav-text">Complaints</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/service-catalogue'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-list-alt"></i>
            </div>
            <span class="nav-text">Service Catalogue</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/employee-relations'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-user-tie"></i>
            </div>
            <span class="nav-text">Employee Relations</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/sales-persons'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-handshake"></i>
            </div>
            <span class="nav-text">Sales Persons</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/create-distributor'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-building"></i>
            </div>
            <span class="nav-text">Distributor</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/payRowCard'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-credit-card"></i>
            </div>
            <span class="nav-text">PayRow Card</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/create-account'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-user-plus"></i>
            </div>
            <span class="nav-text">Merchant Account</span>
          </a>
        </li>

        <li class="nav-item">
          <a
            [routerLink]="'/midAllocation'"
            class="nav-link"
            [routerLinkActive]="'active'"
          >
            <div class="nav-icon">
              <i class="fas fa-network-wired"></i>
            </div>
            <span class="nav-text">MID & TID Allocation</span>
          </a>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- Main Content Area -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>
</div>

<!-- Modern User Info Modal -->
<div
  class="modal fade modern-modal"
  id="userinfo"
  tabindex="-1"
  aria-labelledby="userInfoModal"
  aria-hidden="true"
>
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">User Information</h5>
        <button
          type="button"
          class="btn-close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="user-details-grid">
          <!-- User Profile Section -->
          <div class="profile-section">
            <div class="profile-card" *ngFor="let mngr of mngrList">
              <div class="profile-header">
                <img
                  src="/admin/assets/images/person.jpg"
                  alt="Profile"
                  class="profile-image"
                />
                <div class="profile-info">
                  <h6 class="profile-name">{{ mngr.empName }}</h6>
                  <p class="profile-role">Regional Account Manager</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Contact Information -->
          <div class="info-section" *ngFor="let mngr of mngrList">
            <h6 class="section-title">Contact Details</h6>
            <div class="info-grid">
              <div class="info-item">
                <label>Email</label>
                <span>{{ mngr.emailId }}</span>
              </div>
              <div class="info-item">
                <label>Contact Number</label>
                <span>{{ mngr.mobileNumber }}</span>
              </div>
              <div class="info-item">
                <label>Region</label>
                <span>{{ mngr.nationality }}</span>
              </div>
            </div>
          </div>

          <!-- License Information -->
          <div class="info-section" *ngFor="let dist of distData">
            <h6 class="section-title">License Information</h6>
            <div class="info-grid">
              <div class="info-item">
                <label>License Number</label>
                <span>{{ dist.licenseDetails.licenseNumber }}</span>
              </div>
              <div class="info-item">
                <label>License Issued Place</label>
                <span>{{ dist.nationality }}</span>
              </div>
            </div>
          </div>

          <!-- Other Details -->
          <div class="info-section" *ngFor="let dist of distData">
            <h6 class="section-title">Other Details</h6>
            <div class="info-grid">
              <div class="info-item">
                <label>Passport Number</label>
                <span>{{ dist.passportNum }}</span>
              </div>
              <div class="info-item">
                <label>Passport Expiry</label>
                <span>{{ dist.passportExpiry }}</span>
              </div>
            </div>
          </div>

          <!-- Location Map -->
          <div class="map-section">
            <h6 class="section-title">Distributor Location</h6>
            <div class="map-container">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3612.4857975662676!2d55.23347296118662!3d25.119261879072866!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3e5f694354b82b9f%3A0xda9b557073e3b9a1!2sHydaiat%20jbl%20ali!5e0!3m2!1sen!2sin!4v1663306954859!5m2!1sen!2sin"
                width="100%"
                height="250"
                style="border: 0; border-radius: 8px"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
              >
              </iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
